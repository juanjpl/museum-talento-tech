
var productos= [
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
    {
      id: 1,
      name: "bulbasaur",
      species: {
        name: "bulbasaur",
        url: "https://pokeapi.co/api/v2/pokemon-species/1/",
      },
      types: [
        {
          type: {
            name: "grass",
          },
        },
      ],
  
      sprites: {
        other: {
          "official-artwork": {
            front_default:
              "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png",
          },
        },
      },
    },
  ];

var pagina = 1;

function next(page_number) {
  if (pagina < productos.length / 3) {
    pagina += page_number;
    console.log(pagina);
    let prod = productos.slice((pagina - 1) * 6, pagina * 6);
    document.getElementById("productos").innerHTML = "";

    imprimirProducts(prod);
  }
}

function prev(page_number) {
  if (pagina > 1) {
    pagina -= page_number;
    console.log(pagina);
    let prod = productos.slice((pagina - 1) * 6, pagina * 6);
    //console.log(prod)

    document.getElementById("productos").innerHTML = "";
    imprimirProducts(prod);
  }
}

console.log("comenzando el llamado");

let pagination = [ ]

const llamandoAPI = async () => {
  try {
    const respuesta = await fetch(
      "https://pokeapi.co/api/v2/pokemon?limit=100000&offset=0"
    );
    const { results } = await respuesta.json();
    const data = await Promise.all(
      results.map((urls) => fetch(urls.url).then((resp) => resp.json()))
    );
    console.log(data);

    if (data !== null) {
      productos = data;
      imprimirProducts(productos.slice((pagina - 1) * 6, pagina * 6))
    } else {
      console.log("no hay proximo");
    }
  } catch (error) {
    console.log(error);
  }
};

llamandoAPI();
console.log(productos)


const imprimirProducts = (data) => {

    document.getElementById("productos").innerHTML = "";
    if(!data){
        console.log("no hay datos")
    }else{
        for (let i = 0; i < data.length; i++) {
            let id = `<h4>${data[i].id}</h4>`;
            let name = `<h2>${data[i].name}</h2>`;
            let type = `<h3>${data[i].types[0].type.name}</h3>`;
            let url = `<p>${data[i].species.url}</p>`;
            let img = `<img src=${data[i].sprites.other["official-artwork"].front_default} alt=${data[i].name} width="150" height="150" >`;
        
            var div = document.createElement("div");
            div.innerHTML = `${name} ${id} ${type} ${url} ${img}`;
            document.getElementById("productos").appendChild(div);
          }
    }

};

imprimirProducts(productos.slice((pagina - 1) * 6, pagina * 6))